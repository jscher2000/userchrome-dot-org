<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="icon" type="image/png" sizes="256x256" href="/img/Fxcss_256.png">
<title>Firefox Changes Breaking userChrome.css</title>
<link rel="stylesheet" href="styles.css" type="text/css">
</head>
<body>
<nav>
<ul>
<li id="logo">userChrome.org</li>
<li><a href="what-is-userchrome-css.html" title="What is userChrome.css and what can it do?">WHAT</a></li>
<li><a href="how-create-userchrome-css.html" title="How to Create a userChrome.css File">HOW</a></li>
<li><a href="help-with-userchrome-css.html" title="Resources for Style Recipes and Tools">RESOURCES</a></li>
</ul>
<div id="rightnav">
<a href="javascript:void(0);" title="Load AddToAny" onclick="document.getElementById('confa2a').style.display='block';return false;">SHARE</a>
<a href="javascript:void(0);" title="Load Google Translate" onclick="document.getElementById('confgt').style.display='block';return false;">TRANSLATE</a>
<a href="javascript:void(0);" title="Load Comment Panel" onclick="togComments(this);return false;">FEEDBACK</a>
<div id="confa2a" class="yesno">Load script from AddToAny to share this page? (<a href="https://www.addtoany.com/privacy" rel="noopener" target="_blank">Privacy Policy</a>) <span style="position:absolute; right: 8px"><button onclick="loadShare('1', this);">OK</button>&nbsp;<button onclick="document.getElementById('confa2a').style.display='none';">Cancel</button></span></div>
<div id="confgt" class="yesno">Load script from Google Translate to select a language? (<a href="https://www.google.com/intl/en/policies/privacy/" rel="noopener" target="_blank">Privacy Policy</a>) <span style="position:absolute; right: 8px"><button onclick="loadTrans('2', this);">OK</button>&nbsp;<button onclick="document.getElementById('confgt').style.display='none';">Cancel</button></span></div>
<div id="hotnews"><a href="megabar-styling-firefox-address-bar.html">Firefox 75 Address Megabar!</a></div>
</div>
</nav>
<header>
<h1>Firefox Changes Breaking userChrome.css</h1>
<p>Posted by jscher2000 on September 7, 2019; updated Dec. 6, 2019</p>
</header>

<article>
<div id="main">
<p>Firefox's UI is gradually shedding its XUL heritage and being replaced by HTML (including some modern constructs that can be challenging to style). This page collects a few significant changes for quick reference; admittedly it's not comprehensive, these are the changes that have affected me the most. Please use the Feedback button at upper right to alert me (and other readers) to things I've missed, and check <a href="https://www.reddit.com/r/FirefoxCSS/" rel="noopener" target="_blank">https://www.reddit.com/r/FirefoxCSS/</a> for more solutions.</p>

<h2 id="fx71">Firefox 71 (Released Dec. 3, 2019)</h2>
<p>Your "tabs on bottom" code will need a tweak (if you use such code).</p>

<h2 id="fx70">Firefox 70 (Released Oct. 22, 2019)</h2>
<p>Bookmark and History menus have been extensively revised.</p>

<h2 id="fx69">Firefox 69 (Released Sept. 3, 2019)</h2>
<p>Here are some headline changes (and fixes) for broken userChrome.css styles in Firefox 69:</p>
<h3>(1) [Preference] Firefox won't look for userChrome.css/userContent.css at startup unless told to do so</h3>
<p>To make startup faster for most users, Firefox 69 will no longer look for this file automatically. You need to tell it to look. Here's how:</p>
<ol type="A">
	<li>In a new tab, type or paste <strong>about:config</strong> in the address bar and press Enter/Return. Click the button accepting the risk.</li>
	<li>In the search box above the list, type or paste <strong>userprof</strong> and pause while the list is filtered. <em>If you do not see anything on the list, please ignore the rest of these instructions. You can close this tab now.</em></li>
	<li>If the <strong>toolkit.legacyUserProfileCustomizations.stylesheets</strong> preference is not already set to <strong>true</strong>, double-click it to switch the value from false to true.</li>
</ol>
<p>That change should take effect on your next startup.</p>
<h3>(2) [Code Edit] browser.<em>xul</em> file renamed browser.<em>xhtml</em></h3>
<p>Many style rules were "scoped" to browser.xul to avoid leaking over to other aspects of the browser. If you have instances of this --</p>
<pre class="codeblock notranslate">@-moz-document url(chrome://browser/content/browser.xul) {</pre>
<p>-- you can update them to either of the following (the first is simpler, the second is for backwards and forwards compatibility):</p>
<pre class="codeblock notranslate">@-moz-document url(chrome://browser/content/browser.xhtml) {</pre>
<pre class="codeblock notranslate">@-moz-document url(chrome://browser/content/browser.xul),
               url(chrome://browser/content/browser.xhtml) {</pre>

<h2 id="fx68">Firefox 68 (Released July 9, 2019; basis for ESR)</h2>
<p>This is one of the more significant changes affecting userChrome.css files in Firefox 68:</p>
<h3>(1) [Preference or Code Edit] The Quantumbar (new address bar drop-down)</h3>
<p>Firefox 68 saw the debut of a visually identical drop-down with all new code (mostly HTML) and all new CSS selectors. The rule updates required to modify the Quantumbar are very extensive, so if you don't have the patience, or the source you used for your rules hasn't released an update yet, you can postpone the day of reckoning using the following preference to turn off the Quantumbar for now.</p>
<ol type="A">
	<li>In a new tab, type or paste <strong>about:config</strong> in the address bar and press Enter/Return. Click the button accepting the risk.</li>
	<li>In the search box in the page, type or paste <strong>URLB</strong> and pause while the list is filtered.</li>
	<li>Double-click the <strong>browser.urlbar.quantumbar</strong> preference to switch the value from true to false.</li>
</ol>
<h3>(2) ESR Users: Cumulative changes in Firefox 61-67</h3>
<p>Wow, too many to remember at this point, sorry. <a href="https://www.reddit.com/r/FirefoxCSS/" rel="noopener" target="_blank">/r/FirefoxCSS/</a> would be a good resource.</p>
</div>
</article>

<footer>
<p>Copyright &copy; 2019 Jefferson Scher. All Rights Reserved. CSS examples available under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> or <a href="https://opensource.org/licenses/BSD-3-Clause">BSD-3-Clause License</a>. <a href="privacy.html">Privacy statement</a>.</p>
</footer>
<script type="text/javascript" src="uc.js"></script>
</body>
</html>